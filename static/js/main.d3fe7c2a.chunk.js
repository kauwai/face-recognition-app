(this["webpackJsonpsmart-brain-app"]=this["webpackJsonpsmart-brain-app"]||[]).push([[0],{322:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(6),c=n.n(r),s=n(42),i=n.n(s),o=(n(84),n(85),n(5)),u=n.n(o),l=n(14),p=n(17);n(87);function b(e){var t=e.imageUrl,n=e.boxes;return Object(a.jsx)("div",{className:"center ma",children:Object(a.jsxs)("div",{className:"absolute mt2",children:[Object(a.jsx)("img",{id:"inputimage",src:t,alt:"",width:"500px",height:"auto"}),n.map((function(e,t){var n=e.topRow,r=e.rightCol,c=e.bottomRow,s=e.leftCol;return Object(a.jsx)("div",{className:"bounding-box",style:{top:n,right:r,bottom:c,left:s}},t)}))]})})}n(88);function d(e){var t=e.value,n=e.onInputChange,r=e.onButtonSubmit;return Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{className:"f3",children:"This app will detect faces in the pictures that you provide. Give it a try! "}),Object(a.jsx)("div",{className:"center",children:Object(a.jsxs)("div",{className:"form center pa4 br3 shadow-5",children:[Object(a.jsx)("input",{onChange:function(e){var t=e.target;n(t.value)},value:t,className:"f4 pa2 w-70 center",type:"text",placeholder:"Insert the image URL..."}),Object(a.jsx)("button",{onClick:function(){r()},className:"w-30 grow f4 link ph3 pv2 dib white bg-light-purple",children:"Detect"})]})})]})}var j=n(77),h=n.n(j),m=n.p+"static/media/thinking.55764925.png";n(89);function f(){return Object(a.jsx)("div",{className:"ma4 mt0",children:Object(a.jsx)(h.a,{className:"Tilt br2 shadow-2",options:{max:45},style:{height:150,width:150},children:Object(a.jsx)("div",{className:"Tilt-inner pa3",children:Object(a.jsx)("img",{style:{paddingTop:"8px"},src:m,alt:"logo"})})})})}function v(e){var t=e.onRouteChange,n=e.route,r=e.onLogout,c=function(e){return t(e)};return"home"===n?Object(a.jsx)("nav",{style:{display:"flex",justifyContent:"flex-end"},children:Object(a.jsx)("p",{onClick:function(){r(),c("sign-in")},className:"f3 link dim black underline pa3 pointer",children:"Sign Out"})}):Object(a.jsxs)("nav",{style:{display:"flex",justifyContent:"flex-end"},children:[Object(a.jsx)("p",{onClick:function(){return c("sign-in")},className:"f3 link dim black underline pa3 pointer",children:"Sign In"}),Object(a.jsx)("p",{onClick:function(){return c("register")},className:"f3 link dim black underline pa3 pointer",children:"Register"})]})}function g(e){var t=e.currentUser,n=e.ranking,r=t.name;return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"white f3",children:"".concat(r,", your current rank is...")}),Object(a.jsx)("div",{className:"white f1",children:"#".concat(n)})]})}n(90);var x=n(78),O=n.n(x),w=n(32),y=n(43),N="https://smart-brain-api-kauwai.herokuapp.com",k={create:function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(N,"/register"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),signIn:function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(N,"/signin"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(N,"/image"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(N);case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),callClarifai:function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(N,"/apiCall"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()};function C(e){var t=e.type,n=e.onRouteChange,c=e.onUpdateUser,s=Object(r.useState)({name:"",email:"",password:""}),i=Object(p.a)(s,2),o=i[0],b=i[1],d=function(e){var t=e.target,n=t.name,a=t.value;b(Object(y.a)(Object(y.a)({},o),{},Object(w.a)({},n,a)))},j=function(){var e=Object(l.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Register"!==t){e.next=7;break}return e.next=3,k.create(o);case 3:(a=e.sent).id&&(c(a),n("home")),e.next=11;break;case 7:return e.next=9,k.signIn(o);case 9:(r=e.sent).id&&(c(r),n("home"));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:Object(a.jsx)("article",{className:"br3 ba b--black-10 mv4 w-100 w-50-m w-25-l shadow-5 mw6 center",children:Object(a.jsx)("main",{className:"pa4 black-80",children:Object(a.jsxs)("div",{className:"measure",children:[Object(a.jsxs)("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0",children:[Object(a.jsx)("legend",{className:"f2 fw6 ph0 mh0",children:t}),"Register"===t&&Object(a.jsxs)("div",{className:"mt3",children:[Object(a.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"name",children:"Name"}),Object(a.jsx)("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"text",name:"name",id:"name",value:o.name,onChange:d})]}),Object(a.jsxs)("div",{className:"mt3",children:[Object(a.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"email",children:"Email"}),Object(a.jsx)("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email",id:"email",autoComplete:"email",value:o.email,onChange:d})]}),Object(a.jsxs)("div",{className:"mv3",children:[Object(a.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"password",children:"Password"}),Object(a.jsx)("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password",autoComplete:"new-password",value:o.password,onChange:d})]})]}),Object(a.jsx)("div",{className:"",children:Object(a.jsx)("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:t,onClick:j})}),"Sign In"===t&&Object(a.jsx)("div",{className:"lh-copy mt3",children:Object(a.jsx)("p",{onClick:function(){return n("register")},className:"f6 link dim black db pointer",children:"Register"})})]})})})})}function S(e){var t=e.onRouteChange,n=e.onUpdateUser;return Object(a.jsx)(C,{type:"Sign In",onRouteChange:t,onUpdateUser:n})}function R(e){var t=e.onRouteChange,n=e.onUpdateUser;return Object(a.jsx)(C,{type:"Register",onRouteChange:t,onUpdateUser:n})}var U={id:"",name:"",password:"",email:"",entries:0,joined:""};var I={particles:{line_linked:{shadow:{enable:!0,color:"#3CA9D1",blur:5}},number:{value:35,density:{enable:!0,value_area:180}}}},T=function(){var e=Object(r.useState)(""),t=Object(p.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(""),i=Object(p.a)(s,2),o=i[0],j=i[1],h=Object(r.useState)([{}]),m=Object(p.a)(h,2),x=m[0],w=m[1],y=Object(r.useState)("sign-in"),N=Object(p.a)(y,2),C=N[0],T=N[1],_=Object(r.useState)([{}]),F=Object(p.a)(_,2),A=F[0],J=F[1],B=Object(r.useState)(U),L=Object(p.a)(B,2),D=L[0],E=L[1];Object(r.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getAll();case 2:t=e.sent,J(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[D]);var P=function(e){var t=e.outputs[0].data.regions.map((function(e){return e.region_info.bounding_box})),n=document.getElementById("inputimage"),a=Number(n.width),r=Number(n.height);return t.map((function(e){return{leftCol:e.left_col*a,topRow:e.top_row*r,rightCol:a-e.right_col*a,bottomRow:r-e.bottom_row*r}}))},G=function(e){w(e)},H=function(e){return T(e)},M=function(e){return E(e)},q=A.sort((function(e,t){return t.entries-e.entries})).findIndex((function(e){return e.name===D.name}))+1;return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(O.a,{className:"particles",params:I}),Object(a.jsx)(v,{onRouteChange:H,route:C,onLogout:function(){j(""),w([{}]),c(""),E(U)}}),"sign-in"===C&&Object(a.jsx)(S,{onUpdateUser:M,onRouteChange:H}),"home"===C&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(f,{}),Object(a.jsx)(g,{currentUser:D,ranking:q}),Object(a.jsx)(d,{value:n,onInputChange:function(e){c(e)},onButtonSubmit:function(){j(n);var e=function(){var e=Object(l.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.callClarifai(n);case 3:a=e.sent,G(P(a)),t(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("An error ocurred:"+e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.update(D);case 2:t=e.sent,E(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),Object(a.jsx)(b,{boxes:x,imageUrl:o})]}),"register"===C&&Object(a.jsx)(R,{onRouteChange:H,onUpdateUser:M})]})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,323)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(T,{})}),document.getElementById("root")),_()},84:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){}},[[322,1,2]]]);
//# sourceMappingURL=main.d3fe7c2a.chunk.js.map